(this["webpackJsonpcat-browser"]=this["webpackJsonpcat-browser"]||[]).push([[0],{32:function(e,t,a){e.exports=a(47)},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),s=a(15),o=a(5),u=a(14),i=a.n(u),m=a(17),p=a(9),b=a(29),d=a.n(b),f=a(13),h=a(11),E=a(16);var v=function(e){var t=e.id,a=e.imageUrl;return r.a.createElement(f.a,{xs:12,sm:6,md:3},r.a.createElement(h.a,null,r.a.createElement(h.a.Img,{variant:"top",src:a}),r.a.createElement(h.a.Body,null,r.a.createElement(E.a,{variant:"primary",block:!0,as:s.b,to:"".concat(t)},"View Details"))))},j=a(18),O=a(19),g=a(20);var w=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),u=s[0],b=s[1],h=Object(n.useState)([]),w=Object(p.a)(h,2),y=w[0],x=w[1],k=Object(n.useState)(!1),S=Object(p.a)(k,2),B=S[0],A=S[1],C=Object(n.useState)(!0),I=Object(p.a)(C,2),L=I[0],N=I[1],J=Object(n.useState)(10),M=Object(p.a)(J,2),U=M[0],W=M[1],D=Object(n.useRef)(!0),G=Object(o.e)();Object(n.useEffect)((function(){H();var e=d.a.parse(G.search);R(e)}),[G]),Object(n.useEffect)((function(){D.current?D.current=!1:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch("https://api.thecatapi.com/v1/images/search?limit=100&page=100&breed_id=".concat(u));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,x(a),W(10),A(!1),N(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[u]);var H=function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch("https://api.thecatapi.com/v1/breeds");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),A(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){b(e.breed)};return r.a.createElement("div",{className:"home"},r.a.createElement(j.a,null,r.a.createElement("h1",null,"Cat Browser"),r.a.createElement(O.a,null,r.a.createElement(f.a,{xs:12,sm:6,md:3},r.a.createElement(g.a.Group,{controlId:"formBreedSelect"},r.a.createElement(g.a.Label,null,"Breed"),r.a.createElement(g.a.Control,{as:"select",onChange:function(e){b(e.target.value)},disabled:B,value:u},r.a.createElement("option",{value:!0},"Select breed"),a.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),r.a.createElement(O.a,null,Array.isArray(y)&&0===y.length?r.a.createElement(f.a,{xs:12},"No Cats Available"):y.slice(0,U).map((function(e){return r.a.createElement(v,{key:e.id,id:e.id,imageUrl:e.url})}))),r.a.createElement(O.a,null,r.a.createElement(f.a,{xs:12,sm:6,md:3},L?r.a.createElement(E.a,{variant:"success",disabled:Array.isArray(y)&&0===y.length||B,onClick:function(){A(!0),setTimeout((function(){W(U+4),A(!1),N(U<y.length)}),500)}},B?"Loading Cat...":"Load More"):""))))};var y=function(e){var t=e.match,a=Object(n.useState)({breeds:[]}),c=Object(p.a)(a,2),l=c[0],u=c[1],b=Object(n.useState)(""),d=Object(p.a)(b,2),f=d[0],v=d[1],O=Object(n.useState)(!0),g=Object(p.a)(O,2),w=g[0],y=g[1],x=Object(o.e)();return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,fetch("https://api.thecatapi.com/v1/images/".concat(x.pathname.replace("/","")));case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",e.t0);case 10:if(t.ok){e.next=12;break}return e.abrupt("return",t);case 12:return e.next=14,t.json();case 14:a=e.sent,u(a),v("/?breed="+a.breeds[0].id),y(!1);case 18:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t,x.pathname]),r.a.createElement("div",{className:"cat"},r.a.createElement(j.a,null,w?r.a.createElement("h4",null,"Loading..."):r.a.createElement(h.a,null,r.a.createElement(h.a.Header,null,r.a.createElement(E.a,{variant:"primary",as:s.b,to:f},"Back")),r.a.createElement(h.a.Img,{variant:"top",src:l.url}),Array.isArray(l.breeds)?l.breeds.map((function(e){return r.a.createElement(h.a.Body,{key:e.id},r.a.createElement("h4",null,e.name),r.a.createElement("h5",null,"Origin: ",e.origin),r.a.createElement("h6",null,e.temperament),r.a.createElement("p",null,e.description))})):"")))};a(45),a(46);var x=function(){return r.a.createElement(s.a,{basename:"/cat-browser"},r.a.createElement(o.a,{path:"/",exact:!0,component:w}),r.a.createElement(o.a,{path:"/:id",component:y}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.87ad9b0f.chunk.js.map